"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},_slicedToArray=function(){function n(n,r){var t=[],e=!0,i=!1,a=void 0;try{for(var o,u=n[Symbol.iterator]();!(e=(o=u.next()).done)&&(t.push(o.value),!r||t.length!==r);e=!0);}catch(n){i=!0,a=n}finally{try{!e&&u.return&&u.return()}finally{if(i)throw a}}return t}return function(r,t){if(Array.isArray(r))return r;if(Symbol.iterator in Object(r))return n(r,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();!function(){function mergerFactory(n){return function r(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];return e.some(function(n){return!jawn.isMap(n)})?null:_.reduce(e,function(t,e){var i={},a=jawn.clone(t),o=jawn.clone(e),u=_.flatten([_.keys(a),_.keys(o)]);return _.each(u,function(t){var e=o[t],u=a[t];_.isUndefined(e)&&_.isUndefined(u)||(jawn.isMap(e)&&jawn.isMap(u)?i[t]=r(u,e):_.isArray(e)&&_.isArray(u)&&n?i[t]=_.union(u,e):i[t]=_.isUndefined(e)?u:e)}),i},{})}}if("undefined"==typeof window)var _=require("underscore");else _=window._;var jawn={version:"2.0.0",primitives:["number","boolean","string"],imageTypes:["jpg","png","svg","jpeg","gif","bmp"]};jawn.parseQuery=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n=n.trim(),n=0===n.indexOf("?")?n.substring(1):n;var r=n.split("&"),t={};return _.each(r,function(n){var r=n.split("="),e=_slicedToArray(r,2),i=e[0],a=e[1];a=""===a||void 0===a?null:"true"===a||"false"!==a&&(jawn.isNumeric(a)?jawn.castNumberTypes(a):decodeURIComponent(a)),i&&i.length&&(t[i]=a)}),t},jawn.pathify=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/";return n=n.trim(),n=n.substring(0,1)===r?n.substring(1):n,n=n.substring(-1)===r?n.substring(0,-1):n,_.compact(n.split(r))},jawn.filenameFromPath=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/";n=n.trim();var e=jawn.pathify(n,t);if(!e.length)return null;var i=e.pop();return r&&!jawn.containsPeriod(i)?null:i},jawn.pathWithoutFilename=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/";n=n.trim();var e=n.substr(0,1)===t;if(!jawn.containsPeriod(n)&&r)return n;var i=jawn.pathify(n,t);if(!i||!i.length)return null;var a=_.initial(i).join(t)+t;return e?t+a:a},jawn.getFileExtension=function(n){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return jawn.containsPeriod(n)?n.substring(n.lastIndexOf(".")+1):r?null:n},jawn.removeFileExtension=function(n){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return jawn.containsPeriod(n)?n.substring(0,n.lastIndexOf(".")):r?null:n},jawn.appendToFilename=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return jawn.removeFileExtension(n)+r+"."+jawn.getFileExtension(n)},jawn.autopath=function(){for(var n="",r=arguments.length,t=Array(r),e=0;e<r;e++)t[e]=arguments[e];return _.each(t,function(r,t){0===t&&"."===r.substring(0,1)&&"./"===r.substring(0,2)?(n+="./",r=r.substring(2)):0===t&&0===r.indexOf("http://")?(n+="http://",r=r.substring(7)):0===t&&0===r.indexOf("https://")?(n+="https://",r=substr(r,8)):"/"!==n.substring(-1)&&(n+="/"),"/"===r.substring(0,1)&&(r=r.substring(1)),"/"===r.substring(-1)&&(r=r.substring(0,-1)),n+=r}),n},jawn.bgi=function(n,r,t){var e="url('"+n+"')";return n?r?t?{backgroundImage:e}:{"background-image":e}:e:null},jawn.slug=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return n&&_.isString(n)?n.toLowerCase().replace(/-'+/g,"").replace(/\s+/g,r).replace(/[^a-z0-9-]/g,""):null},jawn.fa=function(n){return n&&_.isString(n)?"fa fa-"+n:null},jawn.ucFirst=function(n){return _.isString(n)&&n.legth?n[0].toUpperCase()+n.slice(1):n},jawn.lcFirst=function(n){return _.isString(n)&&n.length?n[0].toLowerCase()+n.slice(1):n},jawn.textToHtml=function(n){return n.replace("\n","<br />")},jawn.castNumberTypes=function(n){return jawn.isNumeric(n)?1*n:n},jawn.rgb=jawn.rgba=function(n,r,t){return"rgba("+n+","+r+","+t+","+(arguments.length>3&&void 0!==arguments[3]?arguments[3]:1)+")"},jawn.wrapDoubleBreaks=function(n){return"\n\n"+n+"\n\n"},jawn.isMap=function(n){return _.isObject(n)&&!_.isArray(n)&&!_.isFunction(n)},jawn.isNumeric=function(n){return!_.isArray(n)&&n-parseFloat(n)+1>=0},jawn.isUppercase=function(n){return _.isString(n)&&n.length&&n.toUpperCase()===n},jawn.hasImageExt=function(n){return jawn.imageTypes.some(function(r){return r===jawn.getFileExtension(n)})},jawn.containsPeriod=function(n){return n&&n.length&&-1!==n.indexOf(".")},jawn.merge=jawn.mergeObject=mergerFactory(!0),jawn.coat=jawn.coatObject=mergerFactory(!1),jawn.toCamelCase=function(n,r){if(!_.isString(n)||!n.length)return n;if(!r&&jawn.isUppercase(n))return n;var t=0===n.indexOf("_"),e=n.replace(/[^a-zA-Z0-9-\s]/g," ").split(/[\s-,_+]+/).map(function(n,r){return r?jawn.ucFirst(n):jawn.lcFirst(n)}).join("");return(t?"_":"")+e},jawn.hath=function(n,r){if(jawn.isMap(n)){for(var t=_.map(r.split("."),jawn.castNumberTypes);t.length;){if(!_.has(n,t[0]))return!1;if(1===t.length)return!0;n=n[t.shift()]}return!1}},jawn.extrude=function(n,r){if(!jawn.isMap(n)||!jawn.hath(n,r))return null;r=r.replace(/[^a-zA-Z0-9.-\s]+/g,"");for(var t=_.map(r.split("."),jawn.castNumberTypes);t.length;)n=n[t.shift()];return n},jawn.intrude=function(obj,targetProp,replacement){if(!jawn.isMap(obj)||!jawn.hath(obj,targetProp))return null;targetProp=targetProp.replace(/[^a-zA-Z0-9.-\s]+/g,"");var propTrail=_.reduce(targetProp.split("."),function(n,r){return n+"["+(jawn.isNumeric(r)?r:"'"+r+"'")+"]"},"");return eval("obj"+propTrail+" = replacement;"),obj},jawn.clone=function(n){if(_.contains(jawn.primitives,void 0===n?"undefined":_typeof(n))||!n)return n;if(_.isArray(n))return _.map(n,function(n){return jawn.clone(n)});if(!_.isObject(n)||!_.size(n))return n;if("function"==typeof n)return n.bind({});var r=Object.create(n);return _.keys(n).forEach(function(t){return r[t]=jawn.clone(n[t])}),r},jawn.reorderKeysByType=function(n){if(!_.isObject(n)||_.isArray(n)||_.size(n)<=1)return n;var r={strings:{},numbers:{},etc:{},objects:{},arrays:{}};_.each(n,function(n,t){_.isString(n)?r.strings[t]=n:jawn.isNumeric(n)?r.numbers[t]=n:jawn.isMap(n)?r.objects[t]=n:_.isArray(n)?r.arrays[t]=n:r.etc[t]=n});var t={};return _.each(r,function(n,r){_.isEmpty(n)||(t=_.extend(t,n))}),t},"undefined"!=typeof module&&void 0!==module.exports?module.exports=jawn:window.jawn=jawn}();